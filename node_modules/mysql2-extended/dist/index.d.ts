import type { Pool } from 'mysql2/promise';
import { QueryBase } from './query-base';
import type { SingleConnection } from './types';
export * from './types';
export declare class MySQL2Extended extends QueryBase {
    protected driver: Pool | SingleConnection;
    constructor(driver: Pool | SingleConnection);
    begin(): Promise<Transaction>;
    transaction<ResultT>(callback: (transaction: Transaction) => Promise<ResultT>): Promise<ResultT>;
}
export declare class Transaction extends QueryBase {
    protected con: SingleConnection;
    protected hasBegin: boolean;
    protected lastAction?: 'COMMIT' | 'ROLLBACK';
    constructor(con: SingleConnection);
    _begin(): Promise<void>;
    commit(): Promise<void>;
    rollback(): Promise<void>;
    validateCleanAndMarkDirty(action: 'COMMIT' | 'ROLLBACK'): void;
}
